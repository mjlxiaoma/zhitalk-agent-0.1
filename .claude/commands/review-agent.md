# 审查代理代码

审查 zhitalk-agent 项目的 AI 代理实现，检查潜在问题并提供优化建议。

## 输入参数
- $ARGUMENTS: 可选，指定要审查的代理名称。留空则审查所有代理。

## 审查清单

### 1. 代码质量检查
- [ ] TypeScript 类型定义是否完整
- [ ] 是否有未处理的错误情况
- [ ] 是否存在硬编码值应该提取为配置
- [ ] 命名是否清晰且一致

### 2. 提示词质量检查
- [ ] 系统提示词是否清晰明确
- [ ] 角色定义是否恰当
- [ ] 是否有足够的约束防止越界
- [ ] 中文表达是否自然

### 3. 性能检查
- [ ] 是否有不必要的 token 消耗
- [ ] 流式响应是否正确实现
- [ ] 工具调用是否合理

### 4. 安全检查
- [ ] 用户输入是否经过验证
- [ ] 是否有敏感信息泄露风险
- [ ] 权限控制是否到位

### 5. 架构检查
- [ ] 代理职责是否单一
- [ ] 与其他代理的边界是否清晰
- [ ] 是否遵循项目的模块化设计

## 输出格式

请按以下格式输出审查结果：

```
## 审查报告：[代理名称]

### 发现的问题
1. [严重程度] 问题描述
   - 位置：文件:行号
   - 建议：修复方案

### 优化建议
1. 建议描述
   - 预期收益
   - 实现复杂度

### 总体评价
[评分和总结]
```
